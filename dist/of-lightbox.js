"use strict";(self.webpackChunkopenfrontend_framework=self.webpackChunkopenfrontend_framework||[]).push([[864],{4555:function(t,e,i){i.r(e),i.d(e,{default:function(){return L},initMultiple:function(){return y}});var n=i(4811),s=i(3541),a=i(7652),o=i(3549),l=i(3138);function r(t,e){const i=document.getElementById(t);return i?i.innerHTML:e}a.Z.use([o.W_,o.pt,o.bi]);const h="lightbox-thumbnails",c="lightbox-",d=r("of-lightbox-icon-close",'<svg class="of-icon" viewBox="0 0 16 16"><path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"/></svg>'),b=r("of-lightbox-icon-prev",'<svg class="of-icon" viewBox="0 0 16 16"><path d="m3.86 8.753 5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z"/></svg>'),u=r("of-lightbox-icon-next",'<svg class="of-icon" viewBox="0 0 16 16"><path d="m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"/></svg>'),g={autoplayVideos:!0,closeEffect:"fade",closeOnOutsideClick:!1,openEffect:"fade",touchNavigation:!0,svg:{close:d,next:u,prev:b},plyr:{css:()=>i.e(717).then(i.bind(i,5717)),js:()=>i.e(244).then(i.bind(i,244)).then((async t=>({Plyr:t.default,config:{iconUrl:(await i.e(56).then(i.t.bind(i,6056,17))).default}})))}},m='<div id="glightbox-body" class="glightbox-container" tabindex="-1" role="dialog" aria-hidden="false">\n  <div class="gloader visible"></div>\n  <div class="goverlay"></div>\n  <div class="gcontainer">\n    <div class="'.concat("lightbox-wrapper",'">\n      {beforeContent}\n      <div id="glightbox-slider" class="gslider"></div>\n      {afterContent}\n    </div>\n    <button class="gclose gbtn" aria-label="Close" data-taborder="3">{closeSVG}</button>\n    <button class="gprev gbtn" aria-label="Previous" data-taborder="2">{prevSVG}</button>\n    <button class="gnext gbtn" aria-label="Next" data-taborder="1">{nextSVG}</button>\n  </div>\n</div>'),_='<div class="gallery-thumbnails carousel carousel-navigation-center">\n  <div class="swiper">\n    <div class="swiper-wrapper"></div>\n  </div>\n  <div class="carousel-navigation">\n    <button type="button" class="carousel-button-prev btn btn-square btn-primary">\n      '.concat(b,'\n    </button>\n    <button type="button" class="carousel-button-next btn btn-square btn-primary">\n       ').concat(u,"\n    </button>\n  </div>\n</div>"),p={slidesPerView:"auto",spaceBetween:10,navigation:{nextEl:".carousel-button-next",prevEl:".carousel-button-prev"},slideToClickedSlide:!0,watchOverflow:!0,centeredSlides:!0},f={items:"array",tabs:"array",thumbnails:"boolean",urlHashTracking:"boolean"},v={items:[],tabs:[],thumbnails:!1,urlHashTracking:!0};class x extends n.Z{constructor(t,e){super(),this._config=this._getConfig(e),this._identifier=t,this._lightbox=new s.Z(this._getLightboxOptions()),this._lightbox.on("close",this._onClose.bind(this)),this._lightbox.on("open",this._onOpen.bind(this)),this._lightbox.on("slide_before_change",this._onSlideBeforeChange.bind(this)),this._lightbox.on("slide_before_load",this._onSlideBeforeLoad.bind(this)),this._lightbox.on("slide_changed",this._onSlideChanged.bind(this)),this._init()}static get Default(){return v}static get DefaultType(){return f}static get NAME(){return"lightbox"}open(t){if(null===t)return;let e;"string"==typeof t&&null===/^\d+$/.exec(t)?(e=this._config.items.findIndex((e=>e.identifier===t)),e=-1===e?0:e):e=t||0,this._lightbox.openAt(e),this._config.thumbnails&&this._setThumbnailsActiveSlide(e,0)}getUrlHashPrefix(){return c}_getLightboxOptions(){let t=m;return t=t.replace(/{beforeContent}/,this._getBeforeContentHtml()),t=t.replace(/{afterContent}/,this._getAfterContentHtml()),{...g,elements:this._config.items.map((t=>({...t,zoomable:!1}))),lightboxHTML:t}}_init(){this._config.urlHashTracking&&(this.open(this._getItemFromUrlHash()),window.addEventListener("hashchange",(()=>this.open(this._getItemFromUrlHash()))))}_getBeforeContentHtml(){return""}_getAfterContentHtml(){return this._config.thumbnails?'<div class="'.concat(h,'"></div>'):""}_getLightboxElement(t){return this._lightbox.modal.querySelector(t)}_onClose(){this._dispatchGlobalEvent("close.of.lightbox"),this._config.thumbnails&&(this._thumbnailsElement.remove(),this._thumbnailsElement=null,this._thumbnailsCarousel=null),this._config.urlHashTracking&&window.history.pushState({},null,this._generateUrlForItem())}_dispatchGlobalEvent(t,e){(e=e||{}).lightbox=this._lightbox,document.dispatchEvent(new CustomEvent(t,{detail:e}))}_onOpen(){this._dispatchGlobalEvent("open.of.lightbox"),this._config.thumbnails&&(this._thumbnailsElement=this._getLightboxElement(".".concat(h)),this._createResizeObserver(this._thumbnailsElement,"thumbnails-wrapper-height"),this._generateThumbnails(),this._updateThumbnails()),this._config.urlHashTracking&&this._updateUrlHashOnOpen()}_onSlideBeforeChange(t){let{current:e}=t;this._dispatchGlobalEvent("slide_before_change.of.lightbox",{currentSlide:e}),this._config.thumbnails&&this._setThumbnailsActiveSlide(e.index),this._config.urlHashTracking&&this._updateUrlHashOnSlideChange(e.index)}_onSlideBeforeLoad(t){this._dispatchGlobalEvent("slide_before_load.of.lightbox",t);const{slideNode:e,slideConfig:i}=t;if("image"===i.type&&i.attribution){const t=document.createElement("div");t.className="gslide-attribution",t.innerHTML='<div class="media-attribution" data-bs-theme="light">\n  <svg class="of-icon" width="32" height="32" fill="currentColor" viewBox="0 0 16 16">\n    <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2"/>\n  </svg>\n</div>',l.u.getOrCreateInstance(t.children[0],{customClass:"tooltip-lightbox",title:i.attribution,placement:"left",html:!0,delay:{show:0,hide:1500}}),e.querySelector(".gslide-media").appendChild(t)}}_onSlideChanged(t){var e;let{current:i}=t;this._dispatchGlobalEvent("slide_changed.of.lightbox",{currentSlide:i}),this._descriptionObserver&&this._currentDescription&&this._descriptionObserver.unobserve(this._currentDescription),this._currentDescription=null==i||null===(e=i.slideNode)||void 0===e?void 0:e.querySelector(".gslide-description"),this._currentDescription&&this._currentDescription.textContent&&"absolute"!==window.getComputedStyle(this._currentDescription).position?this._descriptionObserver=this._createResizeObserver(this._currentDescription,"description-height"):document.documentElement.style.setProperty("--lightbox-description-height","0px")}_updateUrlHashOnOpen(){window.history.pushState({},null,this._generateUrlForItem(this._lightbox.index))}_updateUrlHashOnSlideChange(t){window.history.replaceState({},null,this._generateUrlForItem(t))}_generateUrlHash(t){return"number"==typeof t&&(t=this._config.items[t].identifier||t),"".concat(c).concat(this._identifier,":").concat(t)}_generateUrlForItem(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=window.location.pathname;return(t||0===t)&&(e="".concat(e,"#").concat(this._generateUrlHash(t))),e}_getItemFromUrlHash(){if(!window.location.hash.startsWith("#".concat(c)))return null;let[t,e]=window.location.hash.substring(c.length+1).split(":");return t!==this._identifier?null:e}_generateThumbnails(){const t=document.createElement("div");t.innerHTML=_,this._thumbnailsElement.append(t.firstElementChild),this._thumbnailsCarousel=new a.Z(this._thumbnailsElement.querySelector(".swiper"),p),this._thumbnailsCarousel.on("slideChange",(()=>{this._thumbnailsCarouselLocked||this._setThumbnailsActiveSlide(this._thumbnailsCarousel.realIndex)}))}_updateThumbnails(){if(!this._thumbnailsCarousel)return;const t=/\.(gif|jpg|jpeg|png|svg|webp)$/;this._thumbnailsCarouselLocked=!0,this._thumbnailsCarousel.disable(),this._thumbnailsCarousel.removeAllSlides(),this._thumbnailsCarousel.appendSlide(this._generateThumbnailsCarouselSlides((e=>{const i=document.createElement("div");i.className="swiper-slide";let{thumbnail:n}=e;if(!n&&!e.type&&e.href&&t.test(e.href)&&(e.type="image"),n||"image"!==e.type||(n=e.href),n){const t=document.createElement("img");t.src=n,t.alt=e.alt||"",e.thumbnailSrcset&&(t.srcset=e.thumbnailSrcset,e.thumbnailSizes&&(t.sizes=e.thumbnailSizes)),i.classList.add("placeholder-image"),i.append(t)}return i}))),this._thumbnailsCarousel.enable(),this._thumbnailsCarouselLocked=!1}_generateThumbnailsCarouselSlides(t){return this._config.items.map(t)}_setThumbnailsActiveSlide(t,e){this._thumbnailsCarousel&&this._thumbnailsCarousel.slides.length>=t&&this._thumbnailsCarousel.slideTo(t,e),this._lightbox.index!==t&&this._lightbox.goToSlide(t)}_createResizeObserver(t,e){const i=new ResizeObserver((i=>i.forEach((()=>this._updateCssVariable(t,e)))));return i.observe(t),this._updateCssVariable(t,e),i}_updateCssVariable(t,e){document.documentElement.style.setProperty("--lightbox-".concat(e),"".concat(t.getBoundingClientRect().height,"px"))}}var w=x;const C="active",I="lightbox-tabs";var E=class extends w{open(t){if(null===t)return;const{tabIndex:e,itemIndex:i}=this._getTabAndItemIndexes(t);this._setActiveTab(e,i),this._lightbox.openAt(i),this._config.thumbnails&&this._setThumbnailsActiveSlide(i,0)}_getBeforeContentHtml(){return'<div class="'.concat(I,'"></div>')}_init(){if(0===this._config.tabs.length)throw new Error("There are no tabs defined");this._tabsActiveTabIndex=0,this._tabsLinks=[],this._tabsItemsMapper=this._config.tabs.flatMap(((t,e)=>t.items.map(((t,i)=>({...t,tabIndex:e,itemIndex:i}))))),super._init()}_onOpen(){super._onOpen(),this._tabsElement=this._getLightboxElement(".".concat(I)),this._createResizeObserver(this._tabsElement,"tabs-wrapper-height"),this._generateTabs(),this._bindTabEvents()}_onClose(){super._onClose(),this._tabsElement.remove(),this._tabsElement=null,this._tabsLinks=[]}_generateThumbnailsCarouselSlides(t){return this._config.tabs[this._tabsActiveTabIndex].items.map(t)}_updateUrlHashOnOpen(){window.history.pushState({},null,this._generateUrlForItem(this._getTabItemIndex(this._lightbox.index)))}_updateUrlHashOnSlideChange(t){window.history.replaceState({},null,this._generateUrlForItem(this._getTabItemIndex(t)))}_generateUrlHash(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"number"==typeof t&&(t=this._tabsItemsMapper[t].identifier||t),"".concat(this.getUrlHashPrefix()).concat(this._identifier,":").concat(t)}_getTabItemIndex(t){const e=this._tabsItemsMapper.findIndex((e=>e.itemIndex===t&&e.tabIndex===this._tabsActiveTabIndex));return-1!==e?e:0}_generateTabs(){const t=document.createElement("ul");t.className="nav nav-underline";for(const[e,i]of this._config.tabs.entries()){const n=document.createElement("li");n.className="nav-item";const s=document.createElement("a");s.className="nav-link",s.textContent=i.name||e,s.href=this._config.urlHashTracking?"#".concat(this._generateUrlHash(this._tabsItemsMapper.findIndex((t=>t.tabIndex===e)))):"#",s.dataset.tab=e,this._tabsLinks.push(s),e===this._tabsActiveTabIndex&&s.classList.add(C),n.append(s),t.append(n)}this._tabsElement.append(t)}_setActiveTab(t){this._tabsActiveTabIndex=Number.parseInt(t,10);for(const[t,e]of this._tabsLinks.entries())t===this._tabsActiveTabIndex?e.classList.add(C):e.classList.contains(C)&&e.classList.remove(C);this._lightbox.prevActiveSlideIndex=null,this._lightbox.prevActiveSlide=null,this._lightbox.setElements(this._config.tabs[this._tabsActiveTabIndex].items)}_bindTabEvents(){for(const t of this._tabsLinks)t.addEventListener("click",(e=>{e.preventDefault(),t.classList.contains(C)||(this._setActiveTab(t.dataset.tab),this._config.thumbnails&&(this._updateThumbnails(),this._setThumbnailsActiveSlide(0,0)),this._config.urlHashTracking&&window.history.replaceState({},null,this._generateUrlForItem(this._tabsItemsMapper.findIndex((t=>t.tabIndex===this._tabsActiveTabIndex)))))}))}_getTabAndItemIndexes(t){let e;return"string"==typeof t&&null===/^\d+$/.exec(t)?(e=this._tabsItemsMapper.findIndex((e=>e.identifier===t)),e=-1===e?0:e):e=t||0,this._tabsItemsMapper[e]?{tabIndex:this._tabsItemsMapper[e].tabIndex,itemIndex:this._tabsItemsMapper[e].itemIndex}:{tabIndex:0,itemIndex:0}}};class T{constructor(){this.configs=new Map,this.instances=new Map}initializeLightboxes(){for(const[t,e]of this.configs.entries()){const i=[];if(Object.prototype.hasOwnProperty.call(e,"elements"))for(const[n,{element:s,options:a}]of e.elements.entries()){const e={...a};if(s.hasAttribute("href")&&(e.href=s.href),"inline"===e.type&&e.href){const t=document.querySelector(e.href);t&&(e.content=t,delete e.href)}i.push(e),s.addEventListener("click",(e=>{e.preventDefault(),this.instances.get(t).open(n)}))}e.items=e.items?[...i,...e.items]:i,Object.prototype.hasOwnProperty.call(e,"tabs")&&e.tabs.length>0?this.instances.set(t,new E(t,e)):this.instances.set(t,new w(t,e))}}registerFromConfigElement(t){const e=t.dataset.ofLightboxConfig;if(this.configs.has(e))throw new Error("You cannot have more than one lightbox config with the same identifier: ".concat(e));const i=JSON.parse(t.textContent.trim());i.elements=i.elements||[],this.configs.set(e,i)}registerFromRegularElement(t){const e=""===t.dataset.ofLightbox?{}:JSON.parse(t.dataset.ofLightbox),i=Object.prototype.hasOwnProperty.call(e,"group")?e.group:null;if(i)return this.configs.has(i)||this.configs.set(i,{elements:[]}),void this.configs.get(i).elements.push({element:t,options:e});const n="ungrouped-".concat(this.instances.size);this.instances.set(n,new w(n,{items:[{...e,href:t.href}]})),t.addEventListener("click",(t=>{t.preventDefault(),this.instances.get(n).open()}))}registerTriggerElement(t){t.addEventListener("click",(e=>{e.preventDefault();const[i,n]=t.dataset.ofLightboxOpen.split(":");if(!this.instances.has(i))throw new Error('The lightbox with identifier "'.concat(i,'" does not exist'));this.instances.get(i).open(n)}))}}const S=new T;function y(t){for(const e of[...t].filter((t=>t.hasAttribute("data-of-lightbox-config"))))S.registerFromConfigElement(e);for(const e of[...t].filter((t=>t.hasAttribute("data-of-lightbox"))))S.registerFromRegularElement(e);for(const e of[...t].filter((t=>t.hasAttribute("data-of-lightbox-open"))))S.registerTriggerElement(e);S.initializeLightboxes()}var L=T}}]);