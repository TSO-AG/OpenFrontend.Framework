"use strict";(self.webpackChunkopenfrontend_framework=self.webpackChunkopenfrontend_framework||[]).push([[250],{7:function(e,t,l){l.r(t),l.d(t,{initMultiple:function(){return p}});var s=l(3066);const n="active-level",a="active-panel",i="active-panel-calculating",o="active-panel-parent",c="--page-nav-panel-height",r="--page-nav-panel-last-height",h="data-html-content-trigger",u="[".concat(h,"]"),_={togglePanelButtonsSelector:"string",closePanelButtonsSelector:"string"},g={togglePanelButtonsSelector:"[data-of-page-menu-toggle]",closePanelButtonsSelector:"[data-of-page-menu-close]"};class P extends s.Z{constructor(e,t){super(e,t),this._togglePanelButtons=e.querySelectorAll(this._config.togglePanelButtonsSelector),this._closePanelButtons=e.querySelectorAll(this._config.closePanelButtonsSelector),this._initTriggers(),this._initHTMLPanels(),this._openActivePagePanels(),new ResizeObserver((()=>{this._setHighestPanelHeight()})).observe(this._element)}static get Default(){return g}static get DefaultType(){return _}static get NAME(){return"page-navigation"}_initTriggers(){for(const e of this._togglePanelButtons){const t=e.closest("li"),l=t.querySelector("ul");e.addEventListener("click",(e=>{e.preventDefault(),t.classList.contains(n)?this._closePanel(l):(t.classList.add(n),this._openPanel(l),this._closeSiblings(t)),this._setHighestPanelHeight()}))}for(const e of this._closePanelButtons)e.addEventListener("click",(t=>{t.preventDefault();const l=e.closest("ul");null!=l&&l.classList.contains(a)&&(this._closePanel(l),this._setHighestPanelHeight())}))}_initHTMLPanels(){this._htmlPanels=[],this._htmlPanelsLinks=this._element.querySelectorAll(u);for(const e of this._htmlPanelsLinks){const t=document.getElementById(e.getAttribute(h));t&&(this._htmlPanels.push(t),t.style.display="none")}}_openActivePagePanels(){const e=this._element.querySelector("span.active");if(e){let t=e;for(;t&&t!==this._element;){if("LI"===t.tagName){const e=t,l=e.querySelector("ul");e.classList.add(n),l&&this._openPanel(l)}t=t.parentNode}}}_openPanel(e){this._activateMenuPanel(e),this._activateMenuPanelParent(e),this._updateHtmlPanelDisplay()}_closePanel(e){this._deactivateMenuPanel(e),this._deactivateMenuPanelParent(e),this._closeAllPanelChild(e),this._updateHtmlPanelDisplay()}_activateMenuPanel(e){var t;e.classList.add(a),null===(t=e.parentElement.querySelector(this._config.submenuSelector))||void 0===t||t.setAttribute("aria-expanded","true")}_deactivateMenuPanel(e){var t;e.classList.remove(a),null===(t=e.parentElement.querySelector(this._config.submenuSelector))||void 0===t||t.setAttribute("aria-expanded","false")}_activateMenuPanelParent(e){const t=e.parentElement.closest("ul");t&&t.classList.add(o)}_updateHtmlPanelDisplay(){if(0===this._htmlPanels.length)return;this._hideAllHtmlPanels();let e=this._element.querySelectorAll(".".concat(n)).item(this._element.querySelectorAll(".".concat(n)).length-1);if(e&&!e.matches(u)&&(e=e.closest(u)),e){const t=e.getAttribute(h),l=this._htmlPanels.find((e=>e.id===t));l&&(l.style.display="revert")}}_hideAllHtmlPanels(){for(const e of this._htmlPanels)e.style.display="none"}_deactivateMenuPanelParent(e){const t=e.parentElement.closest("ul"),l=e.parentElement.closest("li");t&&t.classList.remove(o),l&&l.classList.remove(n)}_closeSiblings(e){const t=[...e.parentNode.children].filter((t=>t!==e&&t.classList.contains(n)));for(const e of t)this._closeAllPanelChild(e)}_closeAllPanelChild(e){for(const t of e.querySelectorAll(".".concat(a)))this._closePanel(t)}_setHighestPanelHeight(){const e=this._element.querySelectorAll(".active-panel");let t=0;this._element.style.removeProperty(c);for(const l of e){l.classList.add(i);const e=l.scrollHeight;l.classList.remove(i),e>t&&(t=e)}this._element.style.setProperty(c,"".concat(t,"px")),this._element.checkVisibility()&&(e.length>0&&t>0?this._element.style.setProperty(r,"".concat(t,"px")):this._element.style.removeProperty(r))}}function p(e){for(const t of e)P.getOrCreateInstance(t,t.dataset.ofPageNavigation?JSON.parse(t.dataset.ofNavigation):{})}t.default=P}}]);