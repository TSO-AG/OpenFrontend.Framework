"use strict";(self.webpackChunkopenfrontend_framework=self.webpackChunkopenfrontend_framework||[]).push([[250],{7:function(e,t,l){l.r(t),l.d(t,{initMultiple:function(){return P}});var n=l(3066);const s="active-level",a="active-panel",i="active-panel-parent",o="--page-nav-panel-height",c="--page-nav-panel-last-height",r="data-html-content-trigger",h="[".concat(r,"]"),u={togglePanelButtonsSelector:"string",closePanelButtonsSelector:"string"},_={togglePanelButtonsSelector:"[data-of-page-menu-toggle]",closePanelButtonsSelector:"[data-of-page-menu-close]"};class g extends n.Z{constructor(e,t){super(e,t),this._togglePanelButtons=e.querySelectorAll(this._config.togglePanelButtonsSelector),this._closePanelButtons=e.querySelectorAll(this._config.closePanelButtonsSelector),this._initTriggers(),this._initHTMLPanels();const l=getComputedStyle(e).getPropertyValue("--page-menu-breakpoint").trim();window.matchMedia("(min-width: ".concat(l,")")).matches&&this._openActivePagePanels(),new ResizeObserver((()=>{this._setHighestPanelHeight()})).observe(this._element)}static get Default(){return _}static get DefaultType(){return u}static get NAME(){return"page-navigation"}_initTriggers(){for(const e of this._togglePanelButtons){const t=e.closest("li"),l=t.querySelector("ul");e.addEventListener("click",(e=>{e.preventDefault(),t.classList.contains(s)?this._closePanel(l):(t.classList.add(s),this._openPanel(l),this._closeSiblings(t)),this._setHighestPanelHeight()}))}for(const e of this._closePanelButtons)e.addEventListener("click",(t=>{t.preventDefault();const l=e.closest("ul");null!=l&&l.classList.contains(a)&&(this._closePanel(l),this._setHighestPanelHeight())}))}_initHTMLPanels(){this._htmlPanels=[],this._htmlPanelsLinks=this._element.querySelectorAll(h);for(const e of this._htmlPanelsLinks){const t=document.getElementById(e.getAttribute(r));t&&(this._htmlPanels.push(t),t.style.display="none")}}_openActivePagePanels(){const e=this._element.querySelector("span.active");if(e){let t=e;for(;t&&t!==this._element;){if("LI"===t.tagName){const e=t,l=e.querySelector("ul");e.classList.add(s),l&&this._openPanel(l)}t=t.parentNode}}}_openPanel(e){this._activateMenuPanel(e),this._activateMenuPanelParent(e),this._updateHtmlPanelDisplay()}_closePanel(e){this._deactivateMenuPanel(e),this._deactivateMenuPanelParent(e),this._closeAllPanelChild(e),this._updateHtmlPanelDisplay()}_activateMenuPanel(e){var t;e.classList.add(a),null===(t=e.parentElement.querySelector(this._config.submenuSelector))||void 0===t||t.setAttribute("aria-expanded","true")}_deactivateMenuPanel(e){var t;e.classList.remove(a),null===(t=e.parentElement.querySelector(this._config.submenuSelector))||void 0===t||t.setAttribute("aria-expanded","false")}_activateMenuPanelParent(e){const t=e.parentElement.closest("ul");t&&t.classList.add(i)}_updateHtmlPanelDisplay(){if(0===this._htmlPanels.length)return;this._hideAllHtmlPanels();let e=this._element.querySelectorAll(".".concat(s)).item(this._element.querySelectorAll(".".concat(s)).length-1);if(e&&!e.matches(h)&&(e=e.closest(h)),e){const t=e.getAttribute(r),l=this._htmlPanels.find((e=>e.id===t));l&&(l.style.display="revert")}}_hideAllHtmlPanels(){for(const e of this._htmlPanels)e.style.display="none"}_deactivateMenuPanelParent(e){const t=e.parentElement.closest("ul"),l=e.parentElement.closest("li");t&&t.classList.remove(i),l&&l.classList.remove(s)}_closeSiblings(e){const t=[...e.parentNode.children].filter((t=>t!==e&&t.classList.contains(s)));for(const e of t)this._closeAllPanelChild(e)}_closeAllPanelChild(e){for(const t of e.querySelectorAll(".".concat(a)))this._closePanel(t)}_setHighestPanelHeight(){const e=this._element.querySelectorAll(".active-panel");let t=0;this._element.style.removeProperty(o);for(const l of e){const e=l.scrollHeight;e>t&&(t=e)}this._element.style.setProperty(o,"".concat(t,"px")),this._element.checkVisibility()&&(e.length>0&&t>0?this._element.style.setProperty(c,"".concat(t,"px")):this._element.style.removeProperty(c))}}function P(e){for(const t of e)g.getOrCreateInstance(t,t.dataset.ofPageNavigation?JSON.parse(t.dataset.ofNavigation):{})}t.default=g}}]);