"use strict";(self.webpackChunkopenfrontend_framework=self.webpackChunkopenfrontend_framework||[]).push([[866],{6829:function(e,t,s){s.r(t),s.d(t,{initMultiple:function(){return l}});var i=s(3066);const r="header-sticky",a="header-sticky-init",o="header-stuck-is-stuck",c={sticky:"(boolean|object|undefined)"},n={sticky:!1};class d extends i.Z{constructor(e,t){super(e,t),this._headerCollapseElements=e.querySelectorAll(".header-collapse"),this._setStickyHeaderHeight(),this._initTriggers(),this._updateStickyHeader=this._updateStickyHeader.bind(this),this._resizeStickyHeader=this._resizeStickyHeader.bind(this),this._config.sticky&&(this._lastScrollTop=0,this._stuckHeader=this._config.sticky.stuck||!1,this._stickyHeaderOffset=this._config.sticky.offset||0,this._initStickyHeader())}static get Default(){return n}static get DefaultType(){return c}static get NAME(){return"header"}dispose(){window.removeEventListener("scroll",this._updateStickyHeader),window.removeEventListener("resize",this._resizeStickyHeader),super.dispose()}_initTriggers(){document.addEventListener("click",(e=>{for(const t of[...this._headerCollapseElements].filter((e=>e.classList.contains("show"))))this._isClickOutsideCollapse(e,t)&&this._closeCollapses(t)}))}_isClickOutsideCollapse(e,t){return!t.contains(e.target)}async _closeCollapses(e){const t=await window.openFrontend.Collapse.then((t=>t.getInstance(e)));t&&t.hide()}_setStickyHeaderHeight(){new ResizeObserver(this._setStickyHeaderHeightProperty.bind(this)).observe(this._element)}_setStickyHeaderHeightProperty(e){for(const t of e){const e="".concat(t.target.offsetHeight,"px");document.documentElement.style.setProperty("--bs-header-sticky-height",e)}}_initStickyHeader(){this._createHeaderPlaceholder(),this._initStuckHeader(),this._resizeStickyHeader(),window.addEventListener("scroll",this._updateStickyHeader),window.addEventListener("resize",this._resizeStickyHeader)}_initStuckHeader(){this._stuckHeader&&this._element.classList.add("header-stuck")}_createHeaderPlaceholder(){this._headerPlaceholder=document.createElement("div"),this._headerPlaceholder.classList.add("header-placeholder"),"absolute"===getComputedStyle(this._element).getPropertyValue("position")&&this._headerPlaceholder.style.setProperty("position","absolute"),this._element.parentNode.insertBefore(this._headerPlaceholder,this._element)}_resizeStickyHeader(){this._element.classList.add(a),this._element.classList.remove(r);const e=this._element.getBoundingClientRect().height;document.documentElement.style.setProperty("--bs-header-height","".concat(e,"px")),setTimeout((()=>{this._element.classList.remove(a)}),100),this._updateStickyHeader()}_setStickyHeaderPositionTop(){const e=this._headerPlaceholder.getBoundingClientRect();this._stickyHeaderPositionTop=e.top+window.scrollY}_updateStickyHeader(){const{scrollY:e}=window;this._setStickyHeaderPositionTop(),e<=this._stickyHeaderPositionTop+this._stickyHeaderOffset?this._element.classList.remove(r):this._element.classList.add(r),this._stuckHeader&&!document.body.hasAttribute("data-of-height-changing")&&(e<this._lastScrollTop?this._element.classList.add(o):this._element.classList.remove(o),this._lastScrollTop=e<=0?0:e)}}function l(e){for(const t of e)d.getOrCreateInstance(t,t.dataset.ofHeader?JSON.parse(t.dataset.ofHeader):{})}t.default=d}}]);