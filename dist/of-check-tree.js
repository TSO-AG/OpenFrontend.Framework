"use strict";(self.webpackChunkopenfrontend_framework=self.webpackChunkopenfrontend_framework||[]).push([[681],{3163:function(e,t,r){r.r(t),r.d(t,{initMultiple:function(){return d}});var n=r(3066);const i="changed.of.check_tree",a='input[type="checkbox"]',s={},l={};class c extends n.Z{constructor(e,t){super(e,t),this._fields=[...this._element.querySelectorAll(a)],this._togglers=[...this._element.querySelectorAll('button[type="button"]')],this._initFields(),this._initTogglers(),this._element.dispatchEvent(new CustomEvent("initialized.of.check_tree"))}static get Default(){return l}static get DefaultType(){return s}static get NAME(){return"check_tree"}_initFields(){this._fields.forEach((e=>{this._updateField(e),e.addEventListener("change",(()=>this._updateField(e))),e.addEventListener(i,(()=>this._updateField(e)))})),this._element.addEventListener(i,(()=>{this._fields.forEach((e=>this._updateField(e)))}))}_initTogglers(){this._togglers.forEach((e=>e.addEventListener("click",(()=>{"true"===e.ariaExpanded?this._collapseToggler(e):this._expandToggler(e)}))))}_updateField(e){const t=this._getFieldSubtree(e);t&&t.querySelectorAll(a).forEach((t=>t.checked=e.checked)),this._getParentFields(e).forEach((e=>{const t=[...this._getFieldSubtree(e).querySelectorAll(a)],r=t.filter((e=>e.checked)).length;switch(!0){case r===t.length:e.checked=!0,e.indeterminate=!1;break;case r>0:e.checked=!1,e.indeterminate=!0;break;case 0===r:e.checked=!1,e.indeterminate=!1}}))}_getFieldSubtree(e){return e.closest("li").querySelector(":scope > ul")}_getParentFields(e){const t=[];let r=e.closest("li").parentElement;for(;r&&r!==this._element;)"LI"===r.tagName&&t.push(r.querySelector(":scope > * > ".concat(a))),r=r.parentElement;return t}_collapseToggler(e){e.ariaExpanded="false",e.parentElement.ariaExpanded="false"}_expandToggler(e){e.ariaExpanded="true",e.parentElement.ariaExpanded="true"}}function d(e){for(const t of e)c.getOrCreateInstance(t,t.dataset.ofCheckTree?JSON.parse(t.dataset.ofCheckTree):{})}t.default=c}}]);