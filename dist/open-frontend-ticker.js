"use strict";(self.webpackChunkopenfrontend_framework=self.webpackChunkopenfrontend_framework||[]).push([[599],{9824:function(e,t,s){s.r(t);const i="ticker-show";class n{constructor(e){const t=e.dataset.ofTicker?JSON.parse(e.dataset.ofTicker):{};t.appendToBody=!!t.hasOwnProperty("appendToBody")&&t.appendToBody,t.items=t.items||[],t.pauseOnHover=!t.hasOwnProperty("pauseOnHover")||t.pauseOnHover,t.prependToBody=!!t.hasOwnProperty("prependToBody")&&t.prependToBody,t.speedBreakpoint=t.speedBreakpoint||767,t.speedDesktop=t.speedDesktop||2,t.speedMobile=t.speedMobile||1,this.el=e,this.config=t,this.interval=null,this.items=t.items,this.paused=!1,this.itemsContainer=document.createElement("div"),this.itemsContainer.className="ticker-items",this.el.append(this.itemsContainer),this.initTicker(),window.addEventListener("resize",(()=>this.resizeTicker()))}setItems(e){this.items=e,0===this.items.length?this.hideTicker():this.showTicker()}resizeTicker(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.el.getBoundingClientRect().width;[...this.itemsContainer.children].forEach((s=>{s.style.minWidth="".concat(t,"px"),e&&(s.style.left="".concat(t,"px"))}))}appendItems(){if(0===this.items.length)return;const e=this.el.getBoundingClientRect().width;this.items.forEach((t=>{const s=document.createElement("div");if(s.className="ticker-item"+(t.cssClass?" ".concat(t.cssClass):""),s.style.left="".concat(e,"px"),t.cssClass&&(s.dataset.cssClass=t.cssClass),t.icon){const e=document.createElement("i");e.className="ticker-icon ".concat(t.icon),s.appendChild(e)}if(t.url){const e=document.createElement("a");e.className="ticker-link",e.href=t.url,e.innerText=t.content,t.newWindow&&(e.target="_blank"),s.appendChild(e)}else{const e=document.createElement("span");e.className="ticker-text",e.innerText=t.content,s.appendChild(e)}this.itemsContainer.appendChild(s)})),this.resizeTicker(!1),this.showTicker()}scrollTicker(){if(0===this.itemsContainer.children.length&&this.appendItems(),this.paused)return void(this.animationFrameId=requestAnimationFrame(this.scrollTicker.bind(this)));const e=this.itemsContainer.children[0];if(!e)return void(this.animationFrameId=requestAnimationFrame(this.scrollTicker.bind(this)));const t=e.getBoundingClientRect();window.foobar||(console.log(t),window.foobar=e);const s=e.offsetWidth+e.offsetLeft;if(s<0)this.el.classList.remove(e.dataset.cssClass),1===this.itemsContainer.children.length&&0===this.items.length&&this.hideTicker(),e.remove();else if(e.style.left="".concat(parseFloat(e.style.left)-this.getTickerSpeed(),"px"),e.dataset.cssClass&&!this.el.classList.contains(e.dataset.cssClass)&&this.el.classList.add(e.dataset.cssClass),s<=this.el.offsetWidth){1===this.itemsContainer.children.length&&this.appendItems();const t=this.itemsContainer.children[1];t&&(t.style.left="".concat(parseFloat(e.style.left)+e.offsetWidth,"px"))}this.animationFrameId=requestAnimationFrame(this.scrollTicker.bind(this))}initTicker(){this.config.appendToBody?document.body.append(this.el):this.config.prependToBody&&document.body.prepend(this.el),this.appendItems(),this.config.pauseOnHover&&(this.el.addEventListener("mouseenter",(()=>this.paused=!0)),this.el.addEventListener("mouseleave",(()=>this.paused=!1))),this.scrollTicker(),this.el.ticker=this,this.el.dispatchEvent(new CustomEvent("initialized.of.ticker"))}getTickerSpeed(){return window.matchMedia("(max-width: ".concat(this.config.speedBreakpoint,"px)")).matches?this.config.speedMobile:this.config.speedDesktop}showTicker(){this.items.length>0&&(this.el.classList.add(i),this.paused=!1)}hideTicker(){this.el.classList.remove(i),this.paused=!0}}t.default=e=>{for(const t of e)new n(t)}}}]);